<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade Calculator By Asaf</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>Grade Calculator</h1>
        <form id="grade-form">
            <div id="subjects-container">
                <div class="subject">
                    <button type="button" class="remove-button" onclick="removeSubject(this)">Remove Subject</button>

                    <label>Subject Name:</label>
                    <input type="text" name="subject_name[]" placeholder="Enter subject name" required>

                    <label>Grade:</label>
                    <input type="number" name="subject_grade[]" min="0" max="100" placeholder="Enter grade" required>

                    <label>Percentage of Total:</label>
                    <input type="number" name="subject_percentage[]" min="0" max="100" placeholder="Enter percentage of total" required>

                    <!-- Container for multiple sub-grades -->
                    <div class="sub-grade-container">
                        <!-- Initially empty; sub-grades can be added dynamically -->
                    </div>

                    <button type="button" class="add-sub-grade-button" onclick="addSubGrade(this)">Add Sub-Grade</button>
                    <button type="button" class="calculate-sub-grade" onclick="calculateSubGrade(this, 0)" style="display:none;">Calculate Sub-Grade</button>
                </div>
            </div>
            <div class="add-remove-buttons">
                <button type="button" onclick="addSubject()">Add Subject</button>
            </div>
            <button type="button" onclick="calculateAverage()">Calculate Average</button>
        </form>
    </div>

    <!-- New container for displaying the calculated average -->
    <div id="averageResultContainer"></div>

    <!-- Removed old resultPopup, replaced with the container -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
